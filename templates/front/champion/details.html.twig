{% extends 'base.html.twig' %}

{% block title %}{{ champion.name }}{% endblock %}

{% block body %}
    <div class="w-full mb-32 md:mb-20 relative ">
        <img src="{{ champion.splashArt }}" alt="{{ champion.name}}'s splash art" class="w-full z-0">
        <div class="absolute inset-x-0 bottom-0 h-2/4 bg-gradient-to-b from-transparent dark:to-[#3B3C44] to-[#F1F1F1] to-70% z-10 flex items-center"> 
            <div class="flex flex-col items-center w-full mt-96 md:mt-20 lg:mt-1">
                <div class="flex flex-col lg:flex-row w-full lg:w-5/6 items-start lg:items-end mb-10 font-semibold">
                    <h1 class="w-full lg:w-1/2 text-center lg:text-start text-5xl lg:text-9xl">{{ champion.name }}</h1> 
                    <p class="w-full lg:w-1/2 text-center text-lg lg:text-3xl lg:text-right lg:pr-20 mb-2 mt-2">Categories : {{ champion.role }}</p>
                </div>
                <p class="w-full text-lg lg:w-5/6 lg:text-2xl text-center lg:text-start px-4 lg:px-0">{{ champion.description }}</p>
            </div>
        </div>
    </div>
    <h2 class="text-3xl md:text-6xl lg:text-6xl font-bold mt-96 sm:mt-56 md:mt-40 lg:mt-20 mb-12 md:mb-20 lg:mb-28">{{ champion.name}}'s builds :</h2>
   <div class="flex flex-wrap w-full justify-center items-center px-10 lg:px-20 space-y-10 lg:space-y-20 drop-shadow-lg lg:mb-40 mb-20">
        {% if builds is defined %}
            {% if builds|length > 0 %}
                {% for build in builds %}

                {# COMPUTER LG:1024 #}
                <div class="lg:w-full">
                    <div class="hidden lg:flex w-full text-center bg-[#FFFFFF] dark:bg-[#494A56] rounded-md h-48">
                        <a class="w-full flex"  href="{{ path('app_build_front_details' , {'title': build.title}) }}">
                            {# image #}
                            <img src="{{ build.champion.squarePortrait }}" alt="{{ build.champion.name }}" class="self-left rounded-tl-md rounded-bl-md">

                            {# ::title + object #}
                            <div class="h-full flex flex-col justify-around w-full pb-4">
                                <div class="flex px-6 w-full justify-between">
                                    <p class="capitalize font-bold text-2xl">{{build.title}}</p>
                                    <p>Creation : {{build.created|date("d/m/Y")}}</p>
                                </div>
                                
                                <div class="flex items-center w-full scroll-x-hidden px-5 space-x-6">
                                {% for slot in build.slots %}              
                                    {% for item in slot.item %}
                                        <img src="{{ item.icon }}" alt="{{ item.name }}" class="rounded-full">
                                    {% endfor %}
                                {% endfor %}
                                </div>
                            </div>
                        </a>
                    {# like/dislike #}
                        <div class="border-l-2 border-[#f1f1ff1] dark:border-[#3B3C44] ml-auto h-full flex items-center justify-center px-4">
                            <form method="post" action="{{ path('app_vote_build', { 'id': build.id }) }}">
                                <button type="submit" class="flex items-center h-10 w-10 space-x-2">
                                    <i class="fa-regular fa-heart fa-2xl" style="color: #65c986;"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                {# PHONE  #}
                
                <div class="lg:hidden flex flex-col items-center mx-4 md:mx-10 text-center bg-[#FFFFFF] dark:bg-[#494A56] rounded-md w-[256px] h-[410px]">
                    <div class="flex flex-col w-full h-full">
                        <a class="w-full h-full" href="{{ path('app_build_front_details' , {'title': build.title}) }} ">
                                {# image #}
                                <img src="{{ build.champion.splashArt }}" alt="{{ build.champion.name }}" class="rounded-t-md w-full h-auto object-cover">

                                {# title + object #}
                                <div class="flex flex-col justify-around w-full p-4 space-y-4 h-[200px]">
                                    <div class="flex flex-col items-center">
                                        <p class="capitalize mt-2 text-xl font-bold max-h-[64px] line-clamp-2 overflow-hidden text-ellipsis">{{build.title}}</p>
                                        <p class="text-xs my-2">Creation : {{build.created|date("d/m/Y")}}</p>
                                    </div>

                                    <div class="flex w-full scroll-x-hidden px-1 space-x-3 my-2">
                                        {% for slot in build.slots %}
                                            {% for item in slot.item %}
                                                <img src="{{ item.icon }}" alt="{{ item.name }}" class="rounded-full h-10 w-10">
                                            {% endfor %}
                                        {% endfor %}
                                    </div>
                                </div>
                        </a>
                        {# like/dislike #}
                        <div class="border-t-2 border-[#f1f1ff1] dark:border-[#3B3C44] min-h-14 flex items-center justify-center w-full mt-auto">
                            <form method="post" action="{{ path('app_vote_build', { 'id': build.id }) }}">
                                <button type="submit" class="flex items-center space-x-2">
                                    <i class="fa-regular fa-heart fa-2xl" style="color: #65c986;"></i>
                                    {# <i class="fa-solid fa-heart fa-2xl" style="color: #65c986;"></i> #}
                                </button>
                            </form>
                        </div>
                    </div>    
                </div>
                {% endfor %}
            {% else %}
                <p class="w-full text-center">There is no build created for this champion yet.</p>
            {% endif %}
        {% else %}
            <p class="w-full text-center">There is a connection error to the server. Please try again later.</p>
        {% endif %} 
    </div>

    
{% endblock %}